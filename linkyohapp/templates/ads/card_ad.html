{% load static %}
<div class="card gig-card ad-card h-100" data-ad-id="{{ ad.id }}" data-impression-id="{{ impression_id }}">
    <div class="ad-disclaimer">
        <small>Sponsored</small>
    </div>
    
    {% if ad.image %}
        <a href="{% url 'ad_click' ad.slug %}" target="_blank" class="ad-link">
            <img src="{{ ad.image.url }}" alt="{{ ad.title }}" class="card-img-top">
        </a>
    {% endif %}
    
    <div class="card-body">
        <a href="{% url 'ad_click' ad.slug %}" target="_blank" class="text-decoration-none text-dark">
            <h5 class="card-title">{{ ad.title }}</h5>
        </a>
        
        {% if ad.description %}
            <p class="card-text">{{ ad.description|truncatechars:60 }}</p>
        {% endif %}
        
        {% if ad.html_content %}
            <div class="ad-html-content">
                {{ ad.html_content|safe }}
            </div>
        {% endif %}
    </div>
    
    <div class="card-footer bg-white d-flex justify-content-between align-items-center">
        <small class="text-muted"><i class="fas fa-ad me-1"></i> Advertisement</small>
        <a href="{% url 'ad_click' ad.slug %}" target="_blank" class="btn btn-sm btn-outline-primary">Learn More</a>
    </div>
</div>

<style>
    .ad-card {
        border: 1px solid rgba(0,0,0,0.1);
        transition: transform 0.3s, box-shadow 0.3s;
    }
    
    .ad-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.15);
    }
    
    .ad-card .card-img-top {
        height: 180px;
        object-fit: cover;
    }
    
    .ad-disclaimer {
        position: absolute;
        top: 10px;
        right: 10px;
        background-color: var(--primary-color);
        color: white;
        padding: 0.25rem 0.75rem;
        border-radius: 1rem;
        font-size: 0.8rem;
        z-index: 10;
    }
    
    .ad-html-content {
        margin-top: 1rem;
    }
</style>
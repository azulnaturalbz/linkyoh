<div x-data="{ liked: {% if is_liked %}true{% else %}false{% endif %}, likes: {{ total_likes }} }">
    <span x-text="likes + ' Like' + (likes !== 1 ? 's' : '')"></span>
    {% if request.user.is_authenticated %}
        <button 
            hx-post="{% url 'like_gig' %}"
            hx-trigger="click"
            hx-vals='{"id": "{{ gig.id }}"}'
            hx-swap="outerHTML"
            hx-target="#like-section"
            x-bind:class="liked ? 'btn btn-danger' : 'btn btn-primary'"
            class="btn">
            <i x-bind:class="liked ? 'fas fa-thumbs-up' : 'far fa-thumbs-up'"></i>
            <span x-text="liked ? 'Unlike' : 'Like'"></span>
        </button>
    {% endif %}
</div>
